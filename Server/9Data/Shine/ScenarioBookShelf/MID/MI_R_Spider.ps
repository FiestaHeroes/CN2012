open [main]
    var Wait            ""
        InterruptBlock  ""
        InterruptArg    ""
        KQ_GB_Spider  	"".
		;CompleteGate	"". ; 킹퀘 매칭으로 주석처리

    waitlogin Wait.
    if Wait == 0                            ; 일정시간 지나도록 로긴 안함
    then open
        call "QuestFail".
    close

    pause Sec 5.

    scriptfile "KQUnderHall2".

    broadcast all "KQStart60".
    pause sec 30.
    broadcast all "KQStart30".
    pause sec 10.
    broadcast all "KQStart20".
    pause sec 10.
    broadcast all "KQStart10".
    pause sec 5.
    broadcast all "KQStart5".
    pause sec 5.

	
	;npcstand	ReturnGate 		"Gate_ID_Exit" 		1298	979		0 1000	"Normal". ; 킹퀘 매칭으로 주석처리
	;npcstand	CompleteGate 	"Gate_ID_Complete" 	11373	11730	0 1000	"Normal". ; 킹퀘 매칭으로 주석처리
    
    call "First".
    call "Second".
    call "Third".
    call "Forth".
    call "Fifth".
    call "Sixth".
    call "Seventh".
    call "Eighth".
    call "Nineth".
    call "Tenth".
    call "Eleventh".
    call "Twelveth".
    call "Thirteenth".
    call "Forteenth".
    call "Fifteenth".
    call "Sixteenth".
    call "Seventeenth".
    call "Eighteenth".
    call "Nineteenth".
    call "Twelve".
    call "TwelveOne".
    call "TwelveTwo".

close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [First]
    regengroup "MI_R_Spider" "KDUnderArea1".
    regengroup "MI_R_Spider" "KDUnderArea2".
    regengroup "MI_R_Spider" "KDUnderArea3".
    regengroup "MI_R_Spider" "KDUnderArea4".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (90 - 30) "FirstEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate1".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate1]
	interruptset Sec "EndTime" 1 15 "FirstEnd".
close

open [FirstEnd]
	interrupterase "EndTime".
    break "First".
close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [Second]
    regengroup "MI_R_Spider" "KDUnderArea5".
    regengroup "MI_R_Spider" "KDUnderArea6".
    regengroup "MI_R_Spider" "KDUnderArea7".
    regengroup "MI_R_Spider" "KDUnderArea8".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (130 - 90) "SecondEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate2".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate2]
	interruptset Sec "EndTime" 1 15 "SecondEnd".
close

open [SecondEnd]
	interrupterase "EndTime".
    break "Second".
close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [Third]
    regengroup "MI_R_Spider" "KDUnderArea9".
    regengroup "MI_R_Spider" "KDUnderArea10".
    regengroup "MI_R_Spider" "KDUnderArea11".
    regengroup "MI_R_Spider" "KDUnderArea12".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (170 - 130) "ThirdEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate3".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate3]
	interruptset Sec "EndTime" 1 15 "ThirdEnd".
close

open [ThirdEnd]
	interrupterase "EndTime".
    break "Third".
close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [Forth]
    regengroup "MI_R_Spider" "KDUnderArea13".
    regengroup "MI_R_Spider" "KDUnderArea14".
    regengroup "MI_R_Spider" "KDUnderArea15".
    regengroup "MI_R_Spider" "KDUnderArea16".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (220 - 170) "ForthEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate4".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate4]
	interruptset Sec "EndTime" 1 15 "ForthEnd".
close

open [ForthEnd]
	interrupterase "EndTime".
    break "Forth".
close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [Fifth]
    regengroup "MI_R_Spider" "KDUnderArea17".
    regengroup "MI_R_Spider" "KDUnderArea18".
    regengroup "MI_R_Spider" "KDUnderArea19".
    regengroup "MI_R_Spider" "KDUnderArea20".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (280 - 220) "FifthEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate5".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate5]
	interruptset Sec "EndTime" 1 15 "FifthEnd".
close

open [FifthEnd]
	interrupterase "EndTime".
    break "Fifth".
close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [Sixth]
    regengroup "MI_R_Spider" "KDUnderArea21".
    regengroup "MI_R_Spider" "KDUnderArea22".
    regengroup "MI_R_Spider" "KDUnderArea23".
    regengroup "MI_R_Spider" "KDUnderArea24".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (360 - 280) "SixthEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate6".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate6]
	interruptset Sec "EndTime" 1 15 "SixthEnd".
close

open [SixthEnd]
	interrupterase "EndTime".
    break "Sixth".
close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [Seventh]
    regengroup "MI_R_Spider" "KDUnderArea25".
    regengroup "MI_R_Spider" "KDUnderArea26".
    regengroup "MI_R_Spider" "KDUnderArea27".
    regengroup "MI_R_Spider" "KDUnderArea28".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (460 - 360) "SeventhEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate7".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate7]
	interruptset Sec "EndTime" 1 15 "SeventhEnd".
close

open [SeventhEnd]
	interrupterase "EndTime".
    break "Seventh".
close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [Eighth]
    regengroup "MI_R_Spider" "KDUnderArea29".
    regengroup "MI_R_Spider" "KDUnderArea30".
    regengroup "MI_R_Spider" "KDUnderArea31".
    regengroup "MI_R_Spider" "KDUnderArea32".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (580 - 460) "EighthEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate8".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate8]
	interruptset Sec "EndTime" 1 15 "EighthEnd".
close

open [EighthEnd]
	interrupterase "EndTime".
    break "Eighth".
close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [Nineth]
    regengroup "MI_R_Spider" "KDUnderArea33".
    regengroup "MI_R_Spider" "KDUnderArea34".
    regengroup "MI_R_Spider" "KDUnderArea35".
    regengroup "MI_R_Spider" "KDUnderArea36".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (700 - 580) "NinethEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate9".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate9]
	interruptset Sec "EndTime" 1 15 "NinethEnd".
close

open [NinethEnd]
	interrupterase "EndTime".
    break "Nineth".
close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [Tenth]
    regengroup "MI_R_Spider" "KDUnderArea37".
    regengroup "MI_R_Spider" "KDUnderArea38".
    regengroup "MI_R_Spider" "KDUnderArea39".
    regengroup "MI_R_Spider" "KDUnderArea40".

    regengroup "MI_R_Spider" "KDUnderArea29".
    regengroup "MI_R_Spider" "KDUnderArea30".
    regengroup "MI_R_Spider" "KDUnderArea31".
    regengroup "MI_R_Spider" "KDUnderArea32".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (820 - 700) "TenthEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate10".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate10]
	interruptset Sec "EndTime" 1 15 "TenthEnd".
close

open [TenthEnd]
	interrupterase "EndTime".
    break "Tenth".
close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [Eleventh]
    regengroup "KDUnHall2" "KDUnderArea41".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (940 - 820) "EleventhEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate11".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate11]
	interruptset Sec "EndTime" 1 15 "EleventhEnd".
close

open [EleventhEnd]
	interrupterase "EndTime".
    break "Eleventh".
close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [Twelveth]
    regengroup "KDUnHall2" "KDUnderArea42".
    regengroup "KDUnHall2" "KDUnderArea43".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (1100 - 940) "TwelvethEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate12".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate12]
	interruptset Sec "EndTime" 1 15 "TwelvethEnd".
close

open [TwelvethEnd]
	interrupterase "EndTime".
    break "Twelveth".
close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [Thirteenth]
    regengroup "KDUnHall2" "KDUnderArea44".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (1230 - 1100) "ThirteenthEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate13".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate13]
	interruptset Sec "EndTime" 1 15 "ThirteenthEnd".
close

open [ThirteenthEnd]
	interrupterase "EndTime".
    break "Thirteenth".
close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [Forteenth]
    regengroup "MI_R_Spider" "KDUnderArea45".
    regengroup "MI_R_Spider" "KDUnderArea46".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (1255 - 1230) "ForteenthEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate14".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate14]
	interruptset Sec "EndTime" 1 15 "ForteenthEnd".
close

open [ForteenthEnd]
	interrupterase "EndTime".
    break "Forteenth".
close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [Fifteenth]
    regengroup "KDUnHall2" "KDUnderArea47".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (1265 - 1255) "FifteenthEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate15".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate15]
	interruptset Sec "EndTime" 1 15 "FifteenthEnd".
close

open [FifteenthEnd]
	interrupterase "EndTime".
    break "Fifteenth".
close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [Sixteenth]
    regengroup "MI_R_Spider" "KDUnderArea48".
    regengroup "MI_R_Spider" "KDUnderArea49".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (1275 - 1265) "SixteenthEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate16".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate16]
	interruptset Sec "EndTime" 1 15 "SixteenthEnd".
close

open [SixteenthEnd]
	interrupterase "EndTime".
    break "Sixteenth".
close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [Seventeenth]

    regengroup "MI_R_Spider" "KDUnderArea50".
    regengroup "MI_R_Spider" "KDUnderArea51".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (1325 - 1275) "SeventeenthEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate17".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate17]
	interruptset Sec "EndTime" 1 15 "SeventeenthEnd".
close

open [SeventeenthEnd]
	interrupterase "EndTime".
    break "Seventeenth".
close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [Eighteenth]
    regengroup "MI_R_Spider" "KDUnderArea52".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (1365 - 1325) "EighteenthEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate18".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate18]
	interruptset Sec "EndTime" 1 15 "EighteenthEnd".
close

open [EighteenthEnd]
	interrupterase "EndTime".
    break "Eighteenth".
close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [Nineteenth]
    regengroup "MI_R_Spider" "KDUnderArea50".
    regengroup "MI_R_Spider" "KDUnderArea51".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (1425 - 1365) "NineteenthEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate19".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate19]
	interruptset Sec "EndTime" 1 15 "NineteenthEnd".
close

open [NineteenthEnd]
	interrupterase "EndTime".
    break "Nineteenth".
close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

open [Twelve]
    regengroup "MI_R_Spider" "KDUnderArea52".
    regengroup "MI_R_Spider" "KDUnderArea52".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (1450 - 1425) "TwelveEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate20".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate20]
	interruptset Sec "EndTime" 1 15 "TwelveEnd".
close

open [TwelveEnd]
	interrupterase "EndTime".
    break "Twelve".
close

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [TwelveOne]
    regengroup "MI_R_Spider" "KDUnderArea50".
    regengroup "MI_R_Spider" "KDUnderArea51".

    interruptclear.
    ;interruptset PlayerEliminate "" 1 "QuestFail".
    ;interruptset TimeOut "" 1 "QuestSuc".
    interruptset Sec "EndTime" 1 (1480 - 1450) "TwelveOneEnd".
	interruptset MobEliminate "EndTime" 1 "onMobEliminate21".

    infinite
    open
        waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

open [onMobEliminate21]
	interruptset Sec "EndTime" 1 15 "TwelveOneEnd".
close

open [TwelveOneEnd]
	interrupterase "EndTime".
    break "TwelveOne".
close
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

open [TwelveTwo]

   ; regengroup "MI_R_Spider" "KDUnderArea53".
   ; 베이비 드래곤은 과감히 빼버리겠음

     chatwin "KQ_GB_Spider" "Spider01".
     pause sec 3.

     chatwin "KQ_GB_Spider" "Spider02".
     pause sec 3.

     chatwin "RouTownChiefRoumenus" "Roumenus01".
     pause sec 3.

     chatwin "RouTownChiefRoumenus" "Roumenus02".
     pause sec 3.

     mobregen KQ_GB_Spider "MID_GB_Spider" 2350 2550 90 1000 "Normal".

     interruptclear.
	 interruptset DeadHandle "" 1 KQ_GB_Spider "QuestSuc".
	 
     interruptset HPLow "" 1 KQ_GB_Spider 900 "Summon1".
     interruptset HPLow "" 1 KQ_GB_Spider 800 "Summon2".
     interruptset HPLow "" 1 KQ_GB_Spider 700 "Summon3".
     interruptset HPLow "" 1 KQ_GB_Spider 600 "Summon4".
     interruptset HPLow "" 1 KQ_GB_Spider 500 "Summon5".
     interruptset HPLow "" 1 KQ_GB_Spider 400 "Summon6".
     interruptset HPLow "" 1 KQ_GB_Spider 300 "Summon7".
     interruptset HPLow "" 1 KQ_GB_Spider 200 "Summon8".
     interruptset HPLow "" 1 KQ_GB_Spider 100 "Summon9".
     interruptset HPLow "" 1 KQ_GB_Spider 50   "Summon10".

     ;interruptset PlayerEliminate "" 1 "QuestFail".
     ;interruptset TimeOut "" 1 "QuestSuc".  
      
     infinite
     open
         waitinterrupt InterruptBlock "InterruptArg".
        call InterruptBlock.
    close
close

;;;;;;;;;;;;;;;;;;;;;;소환 부분 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

  open [Summon1]
      summonmob KQ_GB_Spider "MID_M_Spider"   3.
      pause sec 2.
      summonmob KQ_GB_Spider "MID_M_Spider"   3.
      pause sec 2.
      summonmob KQ_GB_Spider "MID_M_Spider"   3.
      pause sec 2.
      summonmob KQ_GB_Spider "MID_U_Spider01"  5.
  close

open [Summon2]
      summonmob KQ_GB_Spider "MID_M_Spider" 4.
      pause sec 2.
      summonmob KQ_GB_Spider "MID_M_Spider" 4.
      pause sec 2.
      summonmob KQ_GB_Spider "MID_M_Spider" 4.
      pause sec 2.
     summonmob KQ_GB_Spider "MID_U_Spider02" 5.
close

open [Summon3]
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_U_Spider03"  5.
close

open [Summon4]
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_U_Spider04"  5.
close

open [Summon5]
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_U_Spider05"  5.
close

open [Summon6]
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider"  4.
close

open [Summon7]
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_U_Lvivi"  5.
close

open [Summon8]
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 5.
close

open [Summon9]
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
close

open [Summon10]
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_M_Spider" 4.
     pause sec 2.
     summonmob KQ_GB_Spider "MID_U_Uspider" 5.
close

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
open [QuestSuc]
    questresult Suc.                
    revival all. ;모두 부활 시킴(20111209 추가)
    reward MID. ; 킹퀘 매칭으로 보상 명령어 변경됨
    MIDClearCount Online.;킹퀘 플레이 카운트 설정

    broadcast all "KQReturn30".
    pause sec 10.
    broadcast all "KQReturn20".
    pause sec 10.
    broadcast all "KQReturn10".
    pause sec 5.
    broadcast all "KQReturn5".
    pause sec 5.

    endofmid. ;매칭 인던으로 수정함
    break "main".
close


open [QuestFail]
    questresult Fail.      
    revival all. ;모두 부활 시킴(20111209 추가)            

    broadcast all "KQReturn30".
    pause sec 10.
    broadcast all "KQReturn20".
    pause sec 10.
    broadcast all "KQReturn10".
    pause sec 5.
    broadcast all "KQReturn5".
    pause sec 5.

    endofmid. ;매칭 인던으로 수정함
    break "main".
 close

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 킹퀘 매칭으로 주석 처리
;open [QuestSuc]
;    interruptclear.
;	pause Sec 3.
;    questresult Suc.                   ; 성공패킷 날림
	
;	npcstand	CompleteGate 	"Gate_ID_Complete" 	2398	3328	0 1000	"Normal".
;	interruptset	NPCClickHandle	"CompleteGateClick"		1	CompleteGate		"onCompleteGateClick".
	
;	infinite
;    open
;        waitinterrupt InterruptBlock "InterruptArg".
;        call InterruptBlock.
;    close
	
;close

;open [onCompleteGateClick]
;  var mclicker 0.
;  whoclickme mclicker InterruptArg.
;	linkto	mclicker	"EldPri02"	"EldPri02" 10060 10995.
;  interruptset	NPCClickHandle	"CompleteGateClick"		1	CompleteGate	"onCompleteGateClick".
;close
